---
output: rmarkdown::github_document
editor_options: 
  chunk_output_type: console
---
```{r pkg-knitr-opts, include=FALSE}
knitr$opts_chunk$set(collapse=TRUE, fig.retina=2, message=FALSE, warning=FALSE)
options(width=120)
```

[![Travis-CI Build Status](https://travis-ci.org/hrbrmstr/crsspy.svg?branch=master)](https://travis-ci.org/hrbrmstr/crsspy) 
[![Coverage Status](https://codecov.io/gh/hrbrmstr/crsspy/branch/master/graph/badge.svg)](https://codecov.io/gh/hrbrmstr/crsspy)
[![CRAN_Status_Badge](http://www.r-pkg.org/badges/version/crsspy)](https://cran.r-project.org/package=crsspy)

# cspy

Content Security Policy Decomposer & Evaluator

## Description

Methods are provided to decompose, display, and validate
content security policy header values. Wraps the 'Shape Security'
'salvation' Java library (<https://github.com/shapesecurity/salvation>).
Package version tracks 'salvation' Java archive version.

## What's Inside The Tin

The following functions are implemented:

Core:

- `fetch_csp`:  Fetch and/or parse a content security policy header value
- `parse_csp`:  Fetch and/or parse a content security policy header value
- `validate_csp`: Validate a CSP

Testers:

- `allows_child_from_source`: Tests for what a parsed CSP allows
- `allows_connect_to`:  Tests for what a parsed CSP allows
- `allows_font_from_source`:  Tests for what a parsed CSP allows
- `allows_form_action`: Tests for what a parsed CSP allows
- `allows_frame_ancestor`:  Tests for what a parsed CSP allows
- `allows_frame_from_source`: Tests for what a parsed CSP allows
- `allows_manifest_from_source`:  Tests for what a parsed CSP allows
- `allows_media_from_source`: Tests for what a parsed CSP allows
- `allows_navigation`:  Tests for what a parsed CSP allows
- `allows_object_from_source`:  Tests for what a parsed CSP allows
- `allows_prefetch_from_source`:  Tests for what a parsed CSP allows
- `allows_script_from_source`:  Tests for what a parsed CSP allows
- `allows_script_with_nonce`: Tests for what a parsed CSP allows
- `allows_style_from_source`: Tests for what a parsed CSP allows
- `allows_style_with_nonce`:  Tests for what a parsed CSP allows
- `allows_unsafe_inline_script`:  Tests for what a parsed CSP allows
- `allows_unsafe_inline_style`: Tests for what a parsed CSP allows
- `allows_worker_from_source`:  Tests for what a parsed CSP allows
- `as.data.frame.csp`:  Convert a parsed CSP into a data frame of directives and values

## Installation

```{r install-ex, eval=FALSE}
install.packages("cspy", repos = "https://cinc.rud.is/")
```

## Usage

```{r lib-ex}
library(cspy)

# current version
packageVersion("cspy")

```

## crsspy Metrics

```{r cloc, echo=FALSE}
cloc::cloc_pkg_md()
```

## Code of Conduct

Please note that this project is released with a [Contributor Code of Conduct](CODE_OF_CONDUCT.md). 
By participating in this project you agree to abide by its terms.
